# Datafy
 
## Description
The goal of this project is to organize my personal listeninig history into useful data.

<p align="center">
  <img width="1200" src="https://github.com/joshuarreid/Datafy/blob/master/animation.gif" />
  <img width="800" src="https://github.com/joshuarreid/Datafy/blob/master/graphs/temperature_vs_topartists.png" />

</p>

# Datafy Analysis
This notebook is an analysis of my Spotify listening history. The data contains numeric metrics generated by Spotify which measure the songs' danceability, mood, liveness, etc. The data also contains the songs' title, artist, and date related information.

First I will import all of the necessary modules and generate the table to begin analysis.



```python
import numpy as np # linear algebra
import pandas as pd # data processing, CSV file I/O (e.g. pd.read_csv)
import matplotlib.pyplot as plt
import matplotlib.ticker as ticker
from sklearn import datasets, linear_model, neighbors
from sklearn.decomposition import PCA
from sklearn import preprocessing
from sklearn.manifold import TSNE
import math


%matplotlib inline

data_frame = pd.read_csv("/Users/joshuareid/Documents/GitHub/Datafy/jupyter.csv")
data_frame = data_frame.drop("Unnamed: 0", axis="columns")



#Normalize instrumentalness
mean_instr = data_frame.energy.dropna().mean()
max_instr = data_frame.energy.dropna().max()
min_instr = data_frame.energy.dropna().min()
data_frame['energy'] = data_frame['energy'].apply(lambda x: (x - mean_instr ) / (max_instr -min_instr ))
data_frame['energy'] = data_frame['energy'].apply(lambda x: math.sqrt(x**2))

#Normalize valence
mean_val = data_frame.valence.dropna().mean()
max_val = data_frame.valence.dropna().max()
min_val = data_frame.valence.dropna().min()
data_frame['valence'] = data_frame['valence'].apply(lambda x: (x - mean_val ) / (max_val -min_val ))
data_frame['valence'] = data_frame['valence'].apply(lambda x: math.sqrt(x**2))

data_frame.head()




```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Unnamed: 0.1</th>
      <th>Artist</th>
      <th>Album</th>
      <th>Track</th>
      <th>Year</th>
      <th>Month</th>
      <th>Day</th>
      <th>Hour</th>
      <th>Weekday</th>
      <th>Temperature</th>
      <th>...</th>
      <th>energy</th>
      <th>instrumentalness</th>
      <th>liveness</th>
      <th>loudness</th>
      <th>speechiness</th>
      <th>tempo</th>
      <th>valence</th>
      <th>popularity</th>
      <th>key</th>
      <th>mode</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>12328</td>
      <td>Drake</td>
      <td>More Life</td>
      <td>Passionfruit</td>
      <td>2020.0</td>
      <td>1.0</td>
      <td>29.0</td>
      <td>19.0</td>
      <td>Wednesday</td>
      <td>38.0</td>
      <td>...</td>
      <td>0.014723</td>
      <td>0.004354</td>
      <td>0.183079</td>
      <td>-7.461956</td>
      <td>0.214186</td>
      <td>118.982724</td>
      <td>0.035242</td>
      <td>61.911708</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>35992</td>
      <td>Hippo Campus</td>
      <td>South - Single</td>
      <td>South</td>
      <td>2019.0</td>
      <td>1.0</td>
      <td>21.0</td>
      <td>15.0</td>
      <td>Monday</td>
      <td>34.0</td>
      <td>...</td>
      <td>0.086388</td>
      <td>0.017548</td>
      <td>0.165243</td>
      <td>-5.949571</td>
      <td>0.044200</td>
      <td>115.553000</td>
      <td>0.045461</td>
      <td>62.571429</td>
      <td>9</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>35989</td>
      <td>Hippo Campus</td>
      <td>Landmark</td>
      <td>Way It Goes</td>
      <td>2019.0</td>
      <td>1.0</td>
      <td>21.0</td>
      <td>15.0</td>
      <td>Monday</td>
      <td>34.0</td>
      <td>...</td>
      <td>0.086388</td>
      <td>0.017548</td>
      <td>0.165243</td>
      <td>-5.949571</td>
      <td>0.044200</td>
      <td>115.553000</td>
      <td>0.045461</td>
      <td>62.571429</td>
      <td>9</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>35986</td>
      <td>Hippo Campus</td>
      <td>Bashful Creatures</td>
      <td>Souls</td>
      <td>2019.0</td>
      <td>1.0</td>
      <td>21.0</td>
      <td>15.0</td>
      <td>Monday</td>
      <td>34.0</td>
      <td>...</td>
      <td>0.086388</td>
      <td>0.017548</td>
      <td>0.165243</td>
      <td>-5.949571</td>
      <td>0.044200</td>
      <td>115.553000</td>
      <td>0.045461</td>
      <td>62.571429</td>
      <td>9</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>35984</td>
      <td>Hippo Campus</td>
      <td>SOUTH</td>
      <td>Violet</td>
      <td>2019.0</td>
      <td>1.0</td>
      <td>21.0</td>
      <td>15.0</td>
      <td>Monday</td>
      <td>34.0</td>
      <td>...</td>
      <td>0.086388</td>
      <td>0.017548</td>
      <td>0.165243</td>
      <td>-5.949571</td>
      <td>0.044200</td>
      <td>115.553000</td>
      <td>0.045461</td>
      <td>62.571429</td>
      <td>9</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>5 rows Ã— 24 columns</p>
</div>



First I want to find a correlation between valence (the mood) and energy (intensity)


```python
x = data_frame["energy"].values
y = data_frame["valence"].values

x = x.reshape(x.shape[0], 1)
y = y.reshape(y.shape[0], 1)

regr = linear_model.LinearRegression()
regr.fit(x, y)

fig = plt.figure(figsize=(6, 6))
fig.suptitle("Correlation between Energy and Valence")

ax = plt.subplot(1, 1, 1)
ax.scatter(x, y, alpha=0.5)
ax.plot(x, regr.predict(x), color="red", linewidth=3)
plt.xticks(())
plt.yticks(())

ax.xaxis.set_major_locator(ticker.MultipleLocator(.1))
ax.xaxis.set_minor_locator(ticker.MultipleLocator(1))

ax.yaxis.set_major_locator(ticker.MultipleLocator(.1))
ax.yaxis.set_minor_locator(ticker.MultipleLocator(1))

ax.margins(x=0, y=0) 

plt.xlabel("Energy")
plt.ylabel("Valence")


plt.show()
```


    
![png](output_3_0.png)
    


This graph shows the best fit line of valence and energy. It can be concluded from this graph that I prefer songs that have valence and energy values along the regression line.


```python

```


```python

```




:nut_and_bolt: *Documentation in-progress* :nut_and_bolt:
